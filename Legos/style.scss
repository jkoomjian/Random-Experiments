$lego-board-color: rgba(235, 252, 204, 1);
$lego-blue: #0582ff;
$lego-green: #00ad41;
$lego-yellow: #f8d404;
$lego-orange: #ff7c0a;
$lego-red: #f8272a;
$lego-purple: #f34ed0;

$normal-font-size: 16px;

@mixin lego-pile($lego-color) {
    background-color: $lego-color; border-color: darken($lego-color, 10%);
}

#workspace, #workspace * {box-sizing: border-box;}
html {font-size: 39.6px;}
body {margin: 0;}

#workspace {

  margin: 0 auto;
  width: 100%;
  max-width: 600px;

  #lego-space-wrapper {
    width: 100%;
    padding-top: 100%;
    position: relative;

    #lego-space {
      position: absolute; top: 0; bottom: 0; left: 0; right: 0;
      border: 1px dotted red;
      perspective: 2000px;
      perspective-origin: 60% top;
      transform-style:preserve-3d;
    }
  }
}

.plane {
  position: absolute;
  width: 10rem;
  background-color: rgba(237,237,237,0.25);
  transform-origin: bottom left;

  .row {
    height: 1rem;
  }

  .cell {
    display: inline-block;
    width: 1rem;
    height: 1rem;
    border-bottom: 1px solid lightgray;
    border-right: 1px solid lightgray;
  }
  .cell:first-of-type {border-left:1px solid lightgray;}
  .row:first-of-type .cell {border-top:1px solid lightgray;}
  .axis {
    transform-origin: bottom left;
    background-color: lightgray; margin: 0; padding: 0; border-width: 0;
    width: 13rem; height: 1px;
    position: absolute; left: 0; bottom: 0;
  }
}

// .plane-x * {border-color: red !important;}
// .plane-z * {border-color: gray !important;}
.plane-x  {
  background-color: $lego-board-color;
  .cell:before {
    content: '\25CF \25CF \25CF \25CF';
    font-size: 0.75rem;
    width: 100%; height: 100%;
    display: block;
    color: darken($lego-board-color, 8%);
    line-height: 60%;
    word-wrap: break-word;
  }
}

#controls {
    width: 66%; max-width: 800px; font-size: $normal-font-size;
    margin: 1.5rem auto 0 auto;

    .lego-set {
        text-align: center;
        .lego-pile {
            display: inline-block; width: 1rem; height: 1rem;
            margin: .8em;
            border-width: 3px; border-style: solid;
            cursor: grab; position: relative;
            &:before, &:after {
                content: '';
                display: block;
                position: absolute; top: -.2rem;
                height: .2rem; width: 33%;
            }
            &:before {left: .1rem;}
            &:after {right: .1rem;}

            &.blue, &.blue:before, &.blue:after {@include lego-pile($lego-blue);}
            &.green, &.green:before, &.green:after {@include lego-pile($lego-green);}
            &.yellow, &.yellow:before, &.yellow:after {@include lego-pile($lego-yellow);}
            &.orange, &.orange:before, &.orange:after {@include lego-pile($lego-orange);}
            &.red, &.red:before, &.red:after {@include lego-pile($lego-red);}
            &.purple, &.purple:before, &.purple:after {@include lego-pile($lego-purple);}
        }
    }

    .instructions {
        .title {font-weight: bold; font-size: larger;}
        .desc {
           p {margin: 0.5em 0 0.5em 0.5em}
        }
    }
}